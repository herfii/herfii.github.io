<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge">
    <style>
        html,body{
            width:100%;
            height:100%;
            margin:0;
            overflow:hidden;
            font-family:"微软雅黑";
        }
        #allmap {
            overflow: hidden;
            width: 62%;
            height: 100%;
            margin: 0;
            border: 1px solid gray;
            float: left;
        }
        #text {
            margin-top: 10px;
            overflow: hidden;
            width: 36%;
            height: 100%;
            float: right;
        }
    </style>
    <script type="text/javascript" src="http://api.map.baidu.com/api?v=3.0&ak=mPGDzu9zbrlPLjoZ4LTKrkBbYXtTSH2R"></script>
    <script type="text/javascript" src="http://api.map.baidu.com/library/CurveLine/1.5/src/CurveLine.min.js"></script>
    <title>数字历史实验</title>
</head>

<body>
    <div id="allmap"></div>
    <div id="text">
        我从<a href="javascript:void(0);" onclick="marker[0].openInfoWindow(infoWindow[0]);map.centerAndZoom(beijingPosition, 10);">北京</a>出发，
        去了<a href="javascript:void(0);" onclick="marker[1].openInfoWindow(infoWindow[1]);map.centerAndZoom(hangzhouPosition, 10);">杭州</a>，
        然后去了<a href="javascript:void(0);" onclick="marker[2].openInfoWindow(infoWindow[2]);map.centerAndZoom(taiwanPosition, 10);">台湾</a>。
    </div>
<!--    <div style="position: absolute;">-->
<!--        <button id="open" onclick="addClick()">增加地图点击事件</button>-->
<!--        <button id="open" onclick="addClick1()">增加地图点击事件</button>-->
<!--        <button id="close" onclick="removeClick()">注销地图点击事</button>-->
<!--    </div>-->
</body>

</html>
<script>
// 百度地图API功能
var map = new BMap.Map("allmap"); // 创建Map实例
map.centerAndZoom(new BMap.Point(118.454, 32.955), 6); // 设置地图显示的城市 此项是必须设置的
map.enableScrollWheelZoom(true); //开启鼠标滚轮缩放
var beijingPosition=new BMap.Point(116.432045,39.910683),
    hangzhouPosition=new BMap.Point(120.129721,30.314429),
    taiwanPosition=new BMap.Point(121.491121,25.127053);
var points = [beijingPosition,hangzhouPosition, taiwanPosition];
var myIcon = new BMap.Icon("Icon.png", new BMap.Size(20, 20));
// 创建Marker标注，使用圆形图标
var marker = [new BMap.Marker(beijingPosition, {icon: myIcon}),
    new BMap.Marker(hangzhouPosition, {icon: myIcon}),
    new BMap.Marker(taiwanPosition, {icon: myIcon})];
for (var i = 0; i < marker.length; i++) {
    map.addOverlay(marker[i]);
}//将点添加到地图中
var curve = new BMapLib.CurveLine(points, {strokeColor:"black", strokeWeight:3, strokeOpacity:0.5}); //创建弧线对象
map.addOverlay(curve); //将弧线添加到地图中

var infoWindow = new Array(marker.length);
// 定义html字符串
var sContent1 = "<div style='width: 1000px; height: 800px;'>北京很好玩！</div>";
infoWindow[0] = new BMap.InfoWindow(sContent1);
// marker添加点击事件
marker[0].addEventListener('click', function () {
    map.centerAndZoom(beijingPosition, 10);
    this.openInfoWindow(infoWindow[0]);
});

var sContent2 = "<div style='width: 1000px; height: 800px;'>杭州很好玩！</div>";
infoWindow[1] = new BMap.InfoWindow(sContent2);
// marker添加点击事件
marker[1].addEventListener('click', function () {
    map.centerAndZoom(hangzhouPosition, 10);
    this.openInfoWindow(infoWindow[1]);
});

var sContent3 = "<div style='width: 1000px; height: 800px;'>台湾很好玩！</div>";
infoWindow[2] = new BMap.InfoWindow(sContent3);
// marker添加点击事件
marker[2].addEventListener('click', function () {
    map.centerAndZoom(taiwanPosition, 10);
    this.openInfoWindow(infoWindow[2]);
});

</script>
